
 
 
 ### 深拷贝的介绍
 
 1. 复制对象的所有基本数据类型的成员变量值
 2. 为所有引用数据类型的成员变量申请存储空间,并复制每个引用数据类型成员变量所引用的对象,直到该对象可达的所有对象.也就是说,对象进行深拷贝要对整个对象进行拷贝
 3. 深拷贝实现方式1: 重写clone()方法实现深拷贝
 3. 深拷贝实现方式2: 通过对象序列化实现深拷贝
 
 
 ### 深拷贝实践
 DeepCloneableTarget
 ```java
package com.atguigu.prototype.deepclone;

import java.io.Serializable;


public class DeepCloneableTarget implements Serializable,Cloneable {
    /*
     *
     * */
    private static final long serialVersionUID = 1L;

    private String cloneName;

    private String cloneClass;

    public DeepCloneableTarget(String cloneName, String cloneClass) {
        this.cloneName = cloneName;
        this.cloneClass = cloneClass;
    }

    public DeepCloneableTarget() {
        super();
    }

    // 因为该类的属性都是String, 因此我们这里使用默认的clone方法完成即可
    @Override
    protected Object clone() throws CloneNotSupportedException {
        return super.clone();
    }

}

```


 DeepCloneableTarget
 ```java
package com.atguigu.prototype.deepclone;

import java.io.Serializable;


public class DeepProtoType implements Serializable,Cloneable {
    public String name; // String 属性
    public DeepCloneableTarget deepCloneableTarget; // 引用类型属性

    public DeepProtoType() {
        super();
    }

    // 深拷贝 -- 方式1 使用clone方法
    @Override
    protected Object clone() throws CloneNotSupportedException {
        Object deep = null;
        // 这里完成对基本数据类型(属性) 和String 的克隆
        deep = super.clone();
        // 对引用类型的属性,进行单独处理
        // 先创建,转换子类类型
        DeepProtoType deepProtoType = (DeepProtoType) deep;
        deepProtoType.deepCloneableTarget = (DeepCloneableTarget) deepCloneableTarget.clone();

        return deepProtoType;
    }
    /*
    * 问题: 这样不会递归拷贝么?
    * */
}
```
Clinet
```java
package com.atguigu.prototype.deepclone;


public class Clinet {
    public static void main(String[] args) throws CloneNotSupportedException {
        DeepProtoType p = new DeepProtoType();
        p.name = "松江";
        p.deepCloneableTarget = new DeepCloneableTarget("大牛", "小牛");

        //方式1 完成深拷贝
        DeepProtoType p2 = (DeepProtoType) p.clone();

        System.out.println(p);
        System.out.println(p.name);
        System.out.println(p.deepCloneableTarget);
        System.out.println(p2);
        System.out.println(p2.name);
        System.out.println(p2.deepCloneableTarget);
        /*
        com.atguigu.prototype.deepclone.DeepProtoType@1540e19d
        松江
        com.atguigu.prototype.deepclone.DeepCloneableTarget@677327b6
        com.atguigu.prototype.deepclone.DeepProtoType@14ae5a5
        松江
        com.atguigu.prototype.deepclone.DeepCloneableTarget@7f31245a
        
        Process finished with exit code 0

        * */
        /*
        * todo 这种方式 就是可以 实现深拷贝
        * 说白了就是,在里面 提取出来属性对象, 单独进行拷贝
        * */
    }
}

```