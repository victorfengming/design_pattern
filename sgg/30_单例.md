# 单例

### 恶汉式


优缺点说明:
1. 优点:这种写法比较简单,就是在类装载的时候就完成实例化.避免了线程同步问题

2. 缺点: 在类装载的时候就完成了实例化,没有达到Lazy Loading的效果.如果从始至终都没有使用过这个实例,就会造成内存的浪费

3. 这种方式基于ClassLoader机制避免了多线程同步问题,不过,instance在类装载的时就实例化,在单例模式中大多数都是调用getInstance方法,但是导致类装载的原因有很多种,因此不能确定有其他方式(或者其他静态方法)导致这个类被装载,这时候初始化instance就没有达到lazy loading的效果

4. 结论: 这种单例模式可用,__可能__ 造成内存浪费



### 恶汉式(静态代码块儿)


优缺点说明:

1. 这种方式和上面的相似,只不过将类实例化的过程放在了静态代码块中,也是在类装载的时候,就执行静态代码块儿中的代码,初始化类的实例.优缺点和上面是一样的. 

2. 结论: 这种单例模式可用,__可能__ 造成内存浪费

 
 
 # 懒汉式(线程不安全)
 
 
 代码演示
 
 优缺点说明
 
 1. 起到了Lazy Loading的效果,但是只能在单线程下使用
 
 2. 如果在多线程下, 一个线程进入if(singleton == null)判断 语句块,还未来得及往下执行,另一个线程也通过了这个判断语句,这时便会产生多个实例.
 
 所以在多线程的环境下,不可使用种方式
 
 3. 结论:在实例开发中,不要使用这种方式
 
 
 
 
 
 

